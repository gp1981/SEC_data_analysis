[
  {
    "objectID": "11_AAPL.html",
    "href": "11_AAPL.html",
    "title": "Apple Inc (AAPL)",
    "section": "",
    "text": "Apple Inc (AAPL)\nWork in progress [..]"
  },
  {
    "objectID": "A1_main_script.html",
    "href": "A1_main_script.html",
    "title": "R script: Main Script",
    "section": "",
    "text": "R script: Main Script\nWork in progress [..]"
  },
  {
    "objectID": "02_data_exploration.html",
    "href": "02_data_exploration.html",
    "title": "Explore data retrieved from SEC",
    "section": "",
    "text": "In this section, we delve into the structure of the SEC data obtained from the API. The data follows a structured format in compliance with SEC reporting standards, and understanding this structure is vital for effective analysis.\nFirst, we load the required libraries and files.\n\n\nCode\nsource(\"setup.qmd\")          \n\n\nNow, let’s retrieve the necessary objects for data exploration:\n\n\nCode\n# Load company_Data\ncompany_Data &lt;- readRDS(\"company_data.RDS\")\ncik &lt;- readRDS(\"cik.RDS\")\n\n\n\n\nThe data retrieved from the SEC API is structured financial data compliant with SEC reporting standards. It utilizes XBRL (eXtensible Business Reporting Language), a structured, machine-readable format ensuring consistency and comparability across companies and filings.\nTo navigate through this structure for analysis, consider the following key elements:\n\ncik: The Central Index Key (CIK) is a unique identifier assigned to each company filing reports with the U.S. Securities and Exchange Commission (SEC).\nentityName: This is the name of the company, such as “Apple Inc.”\nfacts: The main container for financial data, housing two critical sections:\n\ndei: Contains Document and Entity Information (DEI), providing basic company details.\nus-gaap: Holds financial data following the U.S. Generally Accepted Accounting Principles (GAAP).\n\n\nWithin these sections, financial data is organized as a list of items, each with specific attributes:\n\nConcept: Represents a financial measure or item (e.g., “Assets”) with an associated label and data type.\nFacts: Actual numerical values associated with the concept, with attributes like “value,” “unitRef,” and “contextRef.”\nAttributes: Additional attributes providing context for the data, such as reporting period, currency unit, or data precision.\n\nEffectively analyzing this data involves selecting relevant concepts and Fact, potentially transforming or pivoting the data for further processing and visualization.\n\n\nLet’s start by exploring the structure of company_Data:\n\n\nCode\n# Visualize structure of the company_Data \nstr(company_Data, max.level = 1)\n\n\nList of 3\n $ company_Metadata:List of 22\n $ company_Facts   :List of 3\n $ company_Concept :List of 7\n\n\nThe output reveals that company_Data comprises three lists with nested lists, such as company_Metadata with 22 lists.\n\n\nIn R, a list is a versatile data structure capable of holding elements of different data types. It offers flexibility, allowing each element to be of a different type.\nFor company_Data, the list structure organizes various pieces of information, accommodating different data types. Understanding this structure is crucial for navigating and extracting specific information from complex datasets.\n\n\nTo access the lists we use the symbol $ in after the object e.g. company_Data$company_Metadata.\nNext, we split the data into separate lists: company_Metadata, company_Facts, company_Concept.\n\n\nCode\n# Split the lists in company_Data\ncompany_Metadata &lt;- company_Data$company_Metadata\ncompany_Facts &lt;- company_Data$company_Facts\ncompany_Concept &lt;- company_Data$company_Concept\n\n\nNow, let’s examine the structures and content of these lists:\n\n\nLet’s start with company_Metadata which includes 22 elements: characters, integer, sub-list (or nested list), etc.\n\n\nCode\n# Visualize structure of the company_Metadata\nstr(company_Metadata, max.level = 1)\n\n\nList of 22\n $ cik                              : chr \"320193\"\n $ entityType                       : chr \"operating\"\n $ sic                              : chr \"3571\"\n $ sicDescription                   : chr \"Electronic Computers\"\n $ insiderTransactionForOwnerExists : int 0\n $ insiderTransactionForIssuerExists: int 1\n $ name                             : chr \"Apple Inc.\"\n $ tickers                          : chr \"AAPL\"\n $ exchanges                        : chr \"Nasdaq\"\n $ ein                              : chr \"942404110\"\n $ description                      : chr \"\"\n $ website                          : chr \"\"\n $ investorWebsite                  : chr \"\"\n $ category                         : chr \"Large accelerated filer\"\n $ fiscalYearEnd                    : chr \"0928\"\n $ stateOfIncorporation             : chr \"CA\"\n $ stateOfIncorporationDescription  : chr \"CA\"\n $ addresses                        :List of 2\n $ phone                            : chr \"(408) 996-1010\"\n $ flags                            : chr \"\"\n $ formerNames                      :'data.frame':  3 obs. of  3 variables:\n $ filings                          :List of 2\n\n\nThe most relevant information of company_Metadata are included in the elemnent filing which is a nested list and contains the filing attributes.\n\n\nCode\n# Visualize structure of the company_Metadata\nstr(company_Metadata$filing, max.level = 2)\n\n\nList of 2\n $ recent:List of 14\n  ..$ accessionNumber      : chr [1:1001] \"0000320193-23-000111\" \"0000320193-23-000109\" \"0000320193-23-000106\" \"0000320193-23-000104\" ...\n  ..$ filingDate           : chr [1:1001] \"2023-11-20\" \"2023-11-14\" \"2023-11-03\" \"2023-11-02\" ...\n  ..$ reportDate           : chr [1:1001] \"2023-11-16\" \"2023-11-10\" \"2023-09-30\" \"2023-11-02\" ...\n  ..$ acceptanceDateTime   : chr [1:1001] \"2023-11-20T18:31:21.000Z\" \"2023-11-14T18:31:09.000Z\" \"2023-11-02T18:08:27.000Z\" \"2023-11-02T16:30:32.000Z\" ...\n  ..$ act                  : chr [1:1001] \"\" \"\" \"34\" \"34\" ...\n  ..$ form                 : chr [1:1001] \"4\" \"4\" \"10-K\" \"8-K\" ...\n  ..$ fileNumber           : chr [1:1001] \"\" \"\" \"001-36743\" \"001-36743\" ...\n  ..$ filmNumber           : chr [1:1001] \"\" \"\" \"231373899\" \"231372885\" ...\n  ..$ items                : chr [1:1001] \"\" \"\" \"\" \"2.02,9.01\" ...\n  ..$ size                 : int [1:1001] 8165 5066 9569569 450675 16029 4875 8889 6090 5310 4338 ...\n  ..$ isXBRL               : int [1:1001] 0 0 1 1 0 0 0 0 0 0 ...\n  ..$ isInlineXBRL         : int [1:1001] 0 0 1 1 0 0 0 0 0 0 ...\n  ..$ primaryDocument      : chr [1:1001] \"xslF345X05/wk-form4_1700523067.xml\" \"xslF345X05/wk-form4_1700004649.xml\" \"aapl-20230930.htm\" \"aapl-20231102.htm\" ...\n  ..$ primaryDocDescription: chr [1:1001] \"FORM 4\" \"FORM 4\" \"10-K\" \"8-K\" ...\n $ files :'data.frame': 1 obs. of  4 variables:\n  ..$ name       : chr \"CIK0000320193-submissions-001.json\"\n  ..$ filingCount: int 1007\n  ..$ filingFrom : chr \"1994-01-26\"\n  ..$ filingTo   : chr \"2013-04-22\"\n\n\nThe format of the dataset as printed is not very useful. We see that there are useful information on the forms (e.g. 10K) and dates (e.g. filing dates).\nFor now we will keep it as is and we will come back later on how to improve the readibility\n\n\n\ncompany_Facts is relatively simple and is a list of 3 elements.\n\n\nCode\n# Visualize structure of the company_Facts\nstr(company_Facts, max.level = 1)\n\n\nList of 3\n $ cik       : int 320193\n $ entityName: chr \"Apple Inc.\"\n $ facts     :List of 2\n\n\nThe last element company_Facts$facts is the most relevant one.\n\n\nCode\n# Visualize structure of the company_Facts\nstr(company_Facts$facts, max.level = 1)\n\n\nList of 2\n $ dei    :List of 2\n $ us-gaap:List of 498\n\n\nThe us-gaap list is the most significant sub-element of Facts, containing 498 nested sub-sub-elements. Let’s examine the first five.\n\n\nCode\n# Visualize structure of the company_Facts\nFacts_us_gaap &lt;- str(company_Facts$facts$`us-gaap`[1:5], max.level = 1)\n\n\nList of 5\n $ AccountsPayable             :List of 3\n $ AccountsPayableCurrent      :List of 3\n $ AccountsReceivableNetCurrent:List of 3\n $ AccruedIncomeTaxesCurrent   :List of 3\n $ AccruedIncomeTaxesNoncurrent:List of 3\n\n\nThese sub-elements include essential fundamentals of the company and are themselves nested lists. Let’s explore the structure of the first one.\n\n\nCode\n# Visualize structure of the company_Facts\nstr(company_Facts$facts$`us-gaap`[1], max.level = 4)\n\n\nList of 1\n $ AccountsPayable:List of 3\n  ..$ label      : chr \"Accounts Payable (Deprecated 2009-01-31)\"\n  ..$ description: chr \"Carrying value as of the balance sheet date of liabilities incurred (and for which invoices have typically been\"| __truncated__\n  ..$ units      :List of 1\n  .. ..$ USD:'data.frame':  2 obs. of  8 variables:\n  .. .. ..$ end  : chr [1:2] \"2008-09-27\" \"2009-06-27\"\n  .. .. ..$ val  : num [1:2] 5.52e+09 4.85e+09\n  .. .. ..$ accn : chr [1:2] \"0001193125-09-153165\" \"0001193125-09-153165\"\n  .. .. ..$ fy   : int [1:2] 2009 2009\n  .. .. ..$ fp   : chr [1:2] \"Q3\" \"Q3\"\n  .. .. ..$ form : chr [1:2] \"10-Q\" \"10-Q\"\n  .. .. ..$ filed: chr [1:2] \"2009-07-22\" \"2009-07-22\"\n  .. .. ..$ frame: chr [1:2] \"CY2008Q3I\" \"CY2009Q2I\"\n\n\nThe output presents the structure of the information related to the first element: AccountsPayable\n\nAccountsPayable: Represents a financial concept within the us-gaap section, specifically referring to “Accounts Payable (Deprecated 2009-01-31).”\n\nlabel: This column represents the financial concept or measure, such as “Accounts Payable (Deprecated 2009-01-31).”\ndescription: A detailed explanation of the concept, providing insight into the carrying value as of the balance sheet date.\nunits: A data frame with 2 observations and 8 variables. The variables include information such as:\n\nend: Indicates the end date of the reporting period associated with the financial data.\nval: Represents the numerical value associated with the financial concept. It includes the unit of measure (e.g., million - “M”).\naccn: Stands for accession number, a unique identifier assigned by the SEC to each submission.\nfy: Represents the fiscal year associated with the financial data\nfp: Represents the fiscal period (e.g., Q3 for the third quarter, FY for the full fiscal year).\nform: Indicates the type of form filed with the SEC (e.g., 10-Q for quarterly reports, 10-K for annual reports).\nfiled: Represents the date on which the form was filed with the SEC.\nframe Provides information about the frame, and in this case, it appears to be a combination of calendar year, fiscal quarter, and an additional identifier. For instance “CY2008Q3I” suggests a possible combination of calendar year (CY), year (2008), fiscal quarter (Q3), and possibly an additional identifier (“I”)\n\n\n\nThis hierarchical structure provides a detailed view of the financial concept “Accounts Payable (Deprecated 2009-01-31)” within the us-gaap section, including its label, description, and historical data with unit details.\n\n\nMost of the SEC data required for fundamentals analysis is included in a structure of nested lists. Its understanding is critical to properly retrieve the data. Once we automate the process of “un-nesting” the lists, we will be able to verify that this process led to a dataframe structure where the data is properly located.\n\n\n\n\n\nFinally, let’s examine the structure associated with the company’s Concept.\n\n\nCode\n# Visualize structure of the company_Concepts\nstr(company_Concept, max.level = 3)\n\n\nList of 7\n $ cik        : int 320193\n $ taxonomy   : chr \"us-gaap\"\n $ tag        : chr \"Assets\"\n $ label      : chr \"Assets\"\n $ description: chr \"Sum of the carrying amounts as of the balance sheet date of all assets that are recognized. Assets are probable\"| __truncated__\n $ entityName : chr \"Apple Inc.\"\n $ units      :List of 1\n  ..$ USD:'data.frame': 124 obs. of  8 variables:\n  .. ..$ end  : chr [1:124] \"2008-09-27\" \"2008-09-27\" \"2008-09-27\" \"2008-09-27\" ...\n  .. ..$ val  : num [1:124] 3.96e+10 3.96e+10 3.62e+10 3.62e+10 4.81e+10 ...\n  .. ..$ accn : chr [1:124] \"0001193125-09-153165\" \"0001193125-09-214859\" \"0001193125-10-012091\" \"0001193125-10-238044\" ...\n  .. ..$ fy   : int [1:124] 2009 2009 2009 2010 2009 2009 2010 2009 2010 2010 ...\n  .. ..$ fp   : chr [1:124] \"Q3\" \"FY\" \"FY\" \"FY\" ...\n  .. ..$ form : chr [1:124] \"10-Q\" \"10-K\" \"10-K/A\" \"10-K\" ...\n  .. ..$ filed: chr [1:124] \"2009-07-22\" \"2009-10-27\" \"2010-01-25\" \"2010-10-27\" ...\n  .. ..$ frame: chr [1:124] NA NA NA \"CY2008Q3I\" ...\n\n\nThe output shows the structure associated with the Asset of the company under the taxonomy of us-gaap.\n\n\n\n\nThe use of specific labels to indicate financial report items is regulated by accounting standards set forth by authoritative bodies. In the United States, the Financial Accounting Standards Board (FASB) establishes generally accepted accounting principles (GAAP), which provide guidelines for the preparation of financial statements, including the standardization of labels and concepts.\nDifferent comapnies may use different similar labels to indicate similar Facts. The use of different labels however affect the ability to efficiently retrieve the appropriate financial data.\nThe objective is to generate standardized financial reports of Balance sheet, Income Statement, Cash Flow that so that we can use the same label to perform specific calculation across all companies.\nLet’s create now a dataframe including the data retrieved from company_Facts$facts$`us-gaap`.\n\n\nThe first step is un-nest the dataset, in particular the financial data, in company_Facts, nested in various sub-lists.\nThe following code can be used to un-nest the list within company_Facts and create a dataframe easy to visualize and useful for our purpose1.\n\n\nCode\ndf_Facts &lt;- FactsList_to_Dataframe(company_Facts$facts$`us-gaap`)\n\n# Select the columns to print out and present the output with wrapped text and formatted numbers\ndf_Facts %&gt;%   select(-c(description,accn)) %&gt;% \n  head() %&gt;% kable(\"html\") %&gt;%  \n  kable_styling(full_width = FALSE)\n\n\n\n\n\nlabel\nend\nval\nfy\nfp\nform\nfiled\nframe\nstart\n\n\n\n\nAccounts Payable (Deprecated 2009-01-31)\n2008-09-27\n5 520.0M\n2009\nQ3\n10-Q\n2009-07-22\nCY2008Q3I\nNA\n\n\nAccounts Payable (Deprecated 2009-01-31)\n2009-06-27\n4 854.0M\n2009\nQ3\n10-Q\n2009-07-22\nCY2009Q2I\nNA\n\n\nAccounts Payable, Current\n2008-09-27\n5 520.0M\n2009\nFY\n10-K\n2009-10-27\nNA\nNA\n\n\nAccounts Payable, Current\n2008-09-27\n5 520.0M\n2009\nFY\n10-K/A\n2010-01-25\nCY2008Q3I\nNA\n\n\nAccounts Payable, Current\n2009-09-26\n5 601.0M\n2009\nFY\n10-K\n2009-10-27\nNA\nNA\n\n\nAccounts Payable, Current\n2009-09-26\n5 601.0M\n2010\nQ1\n10-Q\n2010-01-25\nNA\nNA\n\n\n\n\n\n\n\nThe data in this dataframe is organized to facilitate analysis and comparison of financial information over different periods. Each row corresponds to a specific financial concept (e.g. Accounts Payable) reported by the company, and the columns provide details about the reporting period, values, and other relevant attributes.\nTo recreate a financial statement from the data in df_Facts of Apple Inc., we need to extract the values of the various Concepts and corresponding date in df_Fact$end.\ndf_Fact has a long list of Concepts for multiple fiscal periods. The following is to show the large number of Concepts included in df_Fact`, related to all financial reports.\n\n\nCode\n# Show the size and first rows of df_Facts (excluding long text for visualization purpose)\ndf_Fact_lenght &lt;- df_Facts %&gt;% nrow()\n  \n  # Print the size in human-readable format\ncat(\"df_Facts includes:\", format(df_Fact_lenght, units = \"auto\"), \"records \\n\")\n\n\ndf_Facts includes: 22057 records \n\n\n\n\nCode\n# Show the size and first rows of df_Facts (excluding long text for visualization purpose)\ndf_Facts %&gt;% select(-c(description,accn)) %&gt;% \n  head() %&gt;% as.data.frame() %&gt;% \n  kable(\"html\") %&gt;% \n  kable_styling(full_width = FALSE)\n\n\n\n\n\nlabel\nend\nval\nfy\nfp\nform\nfiled\nframe\nstart\n\n\n\n\nAccounts Payable (Deprecated 2009-01-31)\n2008-09-27\n5 520.0M\n2009\nQ3\n10-Q\n2009-07-22\nCY2008Q3I\nNA\n\n\nAccounts Payable (Deprecated 2009-01-31)\n2009-06-27\n4 854.0M\n2009\nQ3\n10-Q\n2009-07-22\nCY2009Q2I\nNA\n\n\nAccounts Payable, Current\n2008-09-27\n5 520.0M\n2009\nFY\n10-K\n2009-10-27\nNA\nNA\n\n\nAccounts Payable, Current\n2008-09-27\n5 520.0M\n2009\nFY\n10-K/A\n2010-01-25\nCY2008Q3I\nNA\n\n\nAccounts Payable, Current\n2009-09-26\n5 601.0M\n2009\nFY\n10-K\n2009-10-27\nNA\nNA\n\n\nAccounts Payable, Current\n2009-09-26\n5 601.0M\n2010\nQ1\n10-Q\n2010-01-25\nNA\nNA\n\n\n\n\n\n\n\nFrom the extract of the df_Facts above, we see repeated Concepts. Each of them is associated with a different fiscal period. By grouping these records by date indicated in df_Fact$end we can see the the full financial report for each period\n\n\nCode\n# Group the df_Fact by date in df_Fact$end\ndf_Fact_BS &lt;- df_Facts %&gt;% group_by(end) %&gt;% arrange(desc(end))\n\n# Show first rows of df_Facts_BS \ndf_Fact_BS %&gt;%  select(-c(description,accn)) %&gt;% \n  head() %&gt;% as.data.frame() %&gt;% \n  kable(\"html\") %&gt;% \n  kable_styling(full_width = FALSE) %&gt;% \n  column_spec(1,width = \"250px\")\n\n\n\n\n\nlabel\nend\nval\nfy\nfp\nform\nfiled\nframe\nstart\n\n\n\n\nAccounts Payable, Current\n2023-09-30\n62 611.0M\n2023\nFY\n10-K\n2023-11-03\nCY2023Q3I\nNA\n\n\nAccounts Receivable, after Allowance for Credit Loss, Current\n2023-09-30\n29 508.0M\n2023\nFY\n10-K\n2023-11-03\nCY2023Q3I\nNA\n\n\nAccrued Income Taxes, Current\n2023-09-30\n8 819.0M\n2023\nFY\n10-K\n2023-11-03\nCY2023Q3I\nNA\n\n\nAccrued Income Taxes, Noncurrent\n2023-09-30\n15 457.0M\n2023\nFY\n10-K\n2023-11-03\nCY2023Q3I\nNA\n\n\nAccumulated Depreciation, Depletion and Amortization, Property, Plant, and Equipment\n2023-09-30\n70 884.0M\n2023\nFY\n10-K\n2023-11-03\nCY2023Q3I\nNA\n\n\nAccumulated Other Comprehensive Income (Loss), Net of Tax\n2023-09-30\n-11 452.0M\n2023\nFY\n10-K\n2023-11-03\nCY2023Q3I\nNA\n\n\n\n\n\n\n\nThe next step is to filter the relevant Concepts associated with each statement: Balance Sheet (BS), Income Statement (IS) Cash Flow (CF).\n\n\n\nThe following code will create a standardized Balance Sheet (df_std_BS) based on a matching table in excel, part of the repository of this website. The excel is: standardized_balancehseet.xlsx\n\n\nCode\n# Define the standardized balancesheet file path\nbalancesheet_path &lt;- here(data_dir, \"standardized_balancesheet.xlsx\")\n  \n# Retrieve balance sheet of Apple Inc. in standardizeformat\ndf_std_BS &lt;- bs_std(df_Facts,balancesheet_path)\n\n# Print the resulting data.frame\ndf_std_BS %&gt;% head() %&gt;% as.data.frame() %&gt;% \n  kable(\"html\") %&gt;% \n  kable_styling(\n    full_width = TRUE,\n    bootstrap_options = c(\"striped\", \"hover\", \"condensed\"),\n    font_size = 8  # Adjust the font size as needed\n  ) %&gt;% \n  column_spec(1, width = \"200px\")  # Adjust the width as needed for other columns\n\n\n\n\n\nend\nfy\nfp\nform\nCash & Cash Equivalent\nMarketable Securities, Current\nTotal Accounts Receivable\nTotal Inventories\nTotal Current Assets\nMarketable Securities, Noncurrent\nProperty, Plant and Equipment\nIntangible Assets (excl. goodwill)\nGoodwill\nTotal Long Term Assets\nAccounts Payable\nTax Payable\nCommercial papers\nShort-Term Debt\nOperating Lease, Liability, Current\nFinance Lease, Liability, Current\nTotal Assets\nTotal Current Liabilities\nOperating Lease, Liability, Non Current\nFinance Lease, Liability, Non Current\nTotal Long-Term liabilities\nTotal Liabilities\nCommon Stock & Additional paid-in capital (or)\nCommon Stock, Value, Issued\nPreferred Stock\nRetained Earnings\nAccumulated other comprehensive income (loss)\n\n\n\n\n2023-09-30\n2023\nFY\n10-K\n29 965.0M\n31 590.0M\n29 508.0M\n6 331.0M\n143 566.0M\n100 544.0M\n43 715.0M\nNA\nNA\n209 017.0M\n62 611.0M\nNA\n5 985.0M\n9 822.0M\n1 410.0M\n165.0M\n352 583.0M\n145 308.0M\n10 408.0M\n165.0M\n145 129.0M\n290 437.0M\n73 812.0M\nNA\nNA\n-214.0M\n-11 452.0M\n\n\n2023-07-01\n2023\nQ3\n10-Q\n28 408.0M\n34 074.0M\n19 549.0M\n7 351.0M\n122 659.0M\n104 061.0M\n43 550.0M\nNA\nNA\n212 379.0M\n46 699.0M\nNA\n3 993.0M\n7 216.0M\nNA\nNA\n335 038.0M\n124 963.0M\nNA\nNA\n149 801.0M\n274 764.0M\n70 667.0M\nNA\nNA\n1 408.0M\n-11 801.0M\n\n\n2023-04-01\n2023\nQ2\n10-Q\n24 687.0M\n31 185.0M\n17 936.0M\n7 482.0M\n112 913.0M\n110 461.0M\n43 398.0M\nNA\nNA\n219 247.0M\n42 945.0M\nNA\n1 996.0M\n10 578.0M\nNA\nNA\n332 160.0M\n120 075.0M\nNA\nNA\n149 927.0M\n270 002.0M\n69 568.0M\nNA\nNA\n4 336.0M\n-11 746.0M\n\n\n2022-12-31\n2023\nQ1\n10-Q\n20 535.0M\n30 820.0M\n23 752.0M\n6 820.0M\n128 777.0M\n114 095.0M\n42 951.0M\nNA\nNA\n217 970.0M\n57 918.0M\nNA\n1 743.0M\n9 740.0M\nNA\nNA\n346 747.0M\n137 286.0M\nNA\nNA\n152 734.0M\n290 020.0M\n66 399.0M\nNA\nNA\n3 240.0M\n-12 912.0M\n\n\n2022-09-24\n2022\nFY\n10-K\n23 646.0M\n24 658.0M\n28 184.0M\n4 946.0M\n135 405.0M\n120 805.0M\n42 117.0M\nNA\nNA\n217 350.0M\n64 115.0M\nNA\n9 982.0M\n11 128.0M\n1 534.0M\n129.0M\n352 755.0M\n153 982.0M\n9 936.0M\n129.0M\n148 101.0M\n302 083.0M\n64 849.0M\nNA\nNA\n-3 068.0M\n-11 109.0M\n\n\n2022-09-24\n2023\nQ1\n10-Q\n23 646.0M\n24 658.0M\n28 184.0M\n4 946.0M\n135 405.0M\n120 805.0M\n42 117.0M\nNA\nNA\n217 350.0M\n64 115.0M\nNA\n9 982.0M\n11 128.0M\nNA\nNA\n352 755.0M\n153 982.0M\nNA\nNA\n148 101.0M\n302 083.0M\n64 849.0M\nNA\nNA\n-3 068.0M\n-11 109.0M\n\n\n\n\n\n\n\n\n\n\n(work in progress …)\n\n\n\n(work in progress …)"
  },
  {
    "objectID": "02_data_exploration.html#structure-of-the-sec-data-xbrl",
    "href": "02_data_exploration.html#structure-of-the-sec-data-xbrl",
    "title": "Explore data retrieved from SEC",
    "section": "",
    "text": "The data retrieved from the SEC API is structured financial data compliant with SEC reporting standards. It utilizes XBRL (eXtensible Business Reporting Language), a structured, machine-readable format ensuring consistency and comparability across companies and filings.\nTo navigate through this structure for analysis, consider the following key elements:\n\ncik: The Central Index Key (CIK) is a unique identifier assigned to each company filing reports with the U.S. Securities and Exchange Commission (SEC).\nentityName: This is the name of the company, such as “Apple Inc.”\nfacts: The main container for financial data, housing two critical sections:\n\ndei: Contains Document and Entity Information (DEI), providing basic company details.\nus-gaap: Holds financial data following the U.S. Generally Accepted Accounting Principles (GAAP).\n\n\nWithin these sections, financial data is organized as a list of items, each with specific attributes:\n\nConcept: Represents a financial measure or item (e.g., “Assets”) with an associated label and data type.\nFacts: Actual numerical values associated with the concept, with attributes like “value,” “unitRef,” and “contextRef.”\nAttributes: Additional attributes providing context for the data, such as reporting period, currency unit, or data precision.\n\nEffectively analyzing this data involves selecting relevant concepts and Fact, potentially transforming or pivoting the data for further processing and visualization.\n\n\nLet’s start by exploring the structure of company_Data:\n\n\nCode\n# Visualize structure of the company_Data \nstr(company_Data, max.level = 1)\n\n\nList of 3\n $ company_Metadata:List of 22\n $ company_Facts   :List of 3\n $ company_Concept :List of 7\n\n\nThe output reveals that company_Data comprises three lists with nested lists, such as company_Metadata with 22 lists.\n\n\nIn R, a list is a versatile data structure capable of holding elements of different data types. It offers flexibility, allowing each element to be of a different type.\nFor company_Data, the list structure organizes various pieces of information, accommodating different data types. Understanding this structure is crucial for navigating and extracting specific information from complex datasets.\n\n\nTo access the lists we use the symbol $ in after the object e.g. company_Data$company_Metadata.\nNext, we split the data into separate lists: company_Metadata, company_Facts, company_Concept.\n\n\nCode\n# Split the lists in company_Data\ncompany_Metadata &lt;- company_Data$company_Metadata\ncompany_Facts &lt;- company_Data$company_Facts\ncompany_Concept &lt;- company_Data$company_Concept\n\n\nNow, let’s examine the structures and content of these lists:\n\n\nLet’s start with company_Metadata which includes 22 elements: characters, integer, sub-list (or nested list), etc.\n\n\nCode\n# Visualize structure of the company_Metadata\nstr(company_Metadata, max.level = 1)\n\n\nList of 22\n $ cik                              : chr \"320193\"\n $ entityType                       : chr \"operating\"\n $ sic                              : chr \"3571\"\n $ sicDescription                   : chr \"Electronic Computers\"\n $ insiderTransactionForOwnerExists : int 0\n $ insiderTransactionForIssuerExists: int 1\n $ name                             : chr \"Apple Inc.\"\n $ tickers                          : chr \"AAPL\"\n $ exchanges                        : chr \"Nasdaq\"\n $ ein                              : chr \"942404110\"\n $ description                      : chr \"\"\n $ website                          : chr \"\"\n $ investorWebsite                  : chr \"\"\n $ category                         : chr \"Large accelerated filer\"\n $ fiscalYearEnd                    : chr \"0928\"\n $ stateOfIncorporation             : chr \"CA\"\n $ stateOfIncorporationDescription  : chr \"CA\"\n $ addresses                        :List of 2\n $ phone                            : chr \"(408) 996-1010\"\n $ flags                            : chr \"\"\n $ formerNames                      :'data.frame':  3 obs. of  3 variables:\n $ filings                          :List of 2\n\n\nThe most relevant information of company_Metadata are included in the elemnent filing which is a nested list and contains the filing attributes.\n\n\nCode\n# Visualize structure of the company_Metadata\nstr(company_Metadata$filing, max.level = 2)\n\n\nList of 2\n $ recent:List of 14\n  ..$ accessionNumber      : chr [1:1001] \"0000320193-23-000111\" \"0000320193-23-000109\" \"0000320193-23-000106\" \"0000320193-23-000104\" ...\n  ..$ filingDate           : chr [1:1001] \"2023-11-20\" \"2023-11-14\" \"2023-11-03\" \"2023-11-02\" ...\n  ..$ reportDate           : chr [1:1001] \"2023-11-16\" \"2023-11-10\" \"2023-09-30\" \"2023-11-02\" ...\n  ..$ acceptanceDateTime   : chr [1:1001] \"2023-11-20T18:31:21.000Z\" \"2023-11-14T18:31:09.000Z\" \"2023-11-02T18:08:27.000Z\" \"2023-11-02T16:30:32.000Z\" ...\n  ..$ act                  : chr [1:1001] \"\" \"\" \"34\" \"34\" ...\n  ..$ form                 : chr [1:1001] \"4\" \"4\" \"10-K\" \"8-K\" ...\n  ..$ fileNumber           : chr [1:1001] \"\" \"\" \"001-36743\" \"001-36743\" ...\n  ..$ filmNumber           : chr [1:1001] \"\" \"\" \"231373899\" \"231372885\" ...\n  ..$ items                : chr [1:1001] \"\" \"\" \"\" \"2.02,9.01\" ...\n  ..$ size                 : int [1:1001] 8165 5066 9569569 450675 16029 4875 8889 6090 5310 4338 ...\n  ..$ isXBRL               : int [1:1001] 0 0 1 1 0 0 0 0 0 0 ...\n  ..$ isInlineXBRL         : int [1:1001] 0 0 1 1 0 0 0 0 0 0 ...\n  ..$ primaryDocument      : chr [1:1001] \"xslF345X05/wk-form4_1700523067.xml\" \"xslF345X05/wk-form4_1700004649.xml\" \"aapl-20230930.htm\" \"aapl-20231102.htm\" ...\n  ..$ primaryDocDescription: chr [1:1001] \"FORM 4\" \"FORM 4\" \"10-K\" \"8-K\" ...\n $ files :'data.frame': 1 obs. of  4 variables:\n  ..$ name       : chr \"CIK0000320193-submissions-001.json\"\n  ..$ filingCount: int 1007\n  ..$ filingFrom : chr \"1994-01-26\"\n  ..$ filingTo   : chr \"2013-04-22\"\n\n\nThe format of the dataset as printed is not very useful. We see that there are useful information on the forms (e.g. 10K) and dates (e.g. filing dates).\nFor now we will keep it as is and we will come back later on how to improve the readibility\n\n\n\ncompany_Facts is relatively simple and is a list of 3 elements.\n\n\nCode\n# Visualize structure of the company_Facts\nstr(company_Facts, max.level = 1)\n\n\nList of 3\n $ cik       : int 320193\n $ entityName: chr \"Apple Inc.\"\n $ facts     :List of 2\n\n\nThe last element company_Facts$facts is the most relevant one.\n\n\nCode\n# Visualize structure of the company_Facts\nstr(company_Facts$facts, max.level = 1)\n\n\nList of 2\n $ dei    :List of 2\n $ us-gaap:List of 498\n\n\nThe us-gaap list is the most significant sub-element of Facts, containing 498 nested sub-sub-elements. Let’s examine the first five.\n\n\nCode\n# Visualize structure of the company_Facts\nFacts_us_gaap &lt;- str(company_Facts$facts$`us-gaap`[1:5], max.level = 1)\n\n\nList of 5\n $ AccountsPayable             :List of 3\n $ AccountsPayableCurrent      :List of 3\n $ AccountsReceivableNetCurrent:List of 3\n $ AccruedIncomeTaxesCurrent   :List of 3\n $ AccruedIncomeTaxesNoncurrent:List of 3\n\n\nThese sub-elements include essential fundamentals of the company and are themselves nested lists. Let’s explore the structure of the first one.\n\n\nCode\n# Visualize structure of the company_Facts\nstr(company_Facts$facts$`us-gaap`[1], max.level = 4)\n\n\nList of 1\n $ AccountsPayable:List of 3\n  ..$ label      : chr \"Accounts Payable (Deprecated 2009-01-31)\"\n  ..$ description: chr \"Carrying value as of the balance sheet date of liabilities incurred (and for which invoices have typically been\"| __truncated__\n  ..$ units      :List of 1\n  .. ..$ USD:'data.frame':  2 obs. of  8 variables:\n  .. .. ..$ end  : chr [1:2] \"2008-09-27\" \"2009-06-27\"\n  .. .. ..$ val  : num [1:2] 5.52e+09 4.85e+09\n  .. .. ..$ accn : chr [1:2] \"0001193125-09-153165\" \"0001193125-09-153165\"\n  .. .. ..$ fy   : int [1:2] 2009 2009\n  .. .. ..$ fp   : chr [1:2] \"Q3\" \"Q3\"\n  .. .. ..$ form : chr [1:2] \"10-Q\" \"10-Q\"\n  .. .. ..$ filed: chr [1:2] \"2009-07-22\" \"2009-07-22\"\n  .. .. ..$ frame: chr [1:2] \"CY2008Q3I\" \"CY2009Q2I\"\n\n\nThe output presents the structure of the information related to the first element: AccountsPayable\n\nAccountsPayable: Represents a financial concept within the us-gaap section, specifically referring to “Accounts Payable (Deprecated 2009-01-31).”\n\nlabel: This column represents the financial concept or measure, such as “Accounts Payable (Deprecated 2009-01-31).”\ndescription: A detailed explanation of the concept, providing insight into the carrying value as of the balance sheet date.\nunits: A data frame with 2 observations and 8 variables. The variables include information such as:\n\nend: Indicates the end date of the reporting period associated with the financial data.\nval: Represents the numerical value associated with the financial concept. It includes the unit of measure (e.g., million - “M”).\naccn: Stands for accession number, a unique identifier assigned by the SEC to each submission.\nfy: Represents the fiscal year associated with the financial data\nfp: Represents the fiscal period (e.g., Q3 for the third quarter, FY for the full fiscal year).\nform: Indicates the type of form filed with the SEC (e.g., 10-Q for quarterly reports, 10-K for annual reports).\nfiled: Represents the date on which the form was filed with the SEC.\nframe Provides information about the frame, and in this case, it appears to be a combination of calendar year, fiscal quarter, and an additional identifier. For instance “CY2008Q3I” suggests a possible combination of calendar year (CY), year (2008), fiscal quarter (Q3), and possibly an additional identifier (“I”)\n\n\n\nThis hierarchical structure provides a detailed view of the financial concept “Accounts Payable (Deprecated 2009-01-31)” within the us-gaap section, including its label, description, and historical data with unit details.\n\n\nMost of the SEC data required for fundamentals analysis is included in a structure of nested lists. Its understanding is critical to properly retrieve the data. Once we automate the process of “un-nesting” the lists, we will be able to verify that this process led to a dataframe structure where the data is properly located.\n\n\n\n\n\nFinally, let’s examine the structure associated with the company’s Concept.\n\n\nCode\n# Visualize structure of the company_Concepts\nstr(company_Concept, max.level = 3)\n\n\nList of 7\n $ cik        : int 320193\n $ taxonomy   : chr \"us-gaap\"\n $ tag        : chr \"Assets\"\n $ label      : chr \"Assets\"\n $ description: chr \"Sum of the carrying amounts as of the balance sheet date of all assets that are recognized. Assets are probable\"| __truncated__\n $ entityName : chr \"Apple Inc.\"\n $ units      :List of 1\n  ..$ USD:'data.frame': 124 obs. of  8 variables:\n  .. ..$ end  : chr [1:124] \"2008-09-27\" \"2008-09-27\" \"2008-09-27\" \"2008-09-27\" ...\n  .. ..$ val  : num [1:124] 3.96e+10 3.96e+10 3.62e+10 3.62e+10 4.81e+10 ...\n  .. ..$ accn : chr [1:124] \"0001193125-09-153165\" \"0001193125-09-214859\" \"0001193125-10-012091\" \"0001193125-10-238044\" ...\n  .. ..$ fy   : int [1:124] 2009 2009 2009 2010 2009 2009 2010 2009 2010 2010 ...\n  .. ..$ fp   : chr [1:124] \"Q3\" \"FY\" \"FY\" \"FY\" ...\n  .. ..$ form : chr [1:124] \"10-Q\" \"10-K\" \"10-K/A\" \"10-K\" ...\n  .. ..$ filed: chr [1:124] \"2009-07-22\" \"2009-10-27\" \"2010-01-25\" \"2010-10-27\" ...\n  .. ..$ frame: chr [1:124] NA NA NA \"CY2008Q3I\" ...\n\n\nThe output shows the structure associated with the Asset of the company under the taxonomy of us-gaap.\n\n\n\n\nThe use of specific labels to indicate financial report items is regulated by accounting standards set forth by authoritative bodies. In the United States, the Financial Accounting Standards Board (FASB) establishes generally accepted accounting principles (GAAP), which provide guidelines for the preparation of financial statements, including the standardization of labels and concepts.\nDifferent comapnies may use different similar labels to indicate similar Facts. The use of different labels however affect the ability to efficiently retrieve the appropriate financial data.\nThe objective is to generate standardized financial reports of Balance sheet, Income Statement, Cash Flow that so that we can use the same label to perform specific calculation across all companies.\nLet’s create now a dataframe including the data retrieved from company_Facts$facts$`us-gaap`.\n\n\nThe first step is un-nest the dataset, in particular the financial data, in company_Facts, nested in various sub-lists.\nThe following code can be used to un-nest the list within company_Facts and create a dataframe easy to visualize and useful for our purpose1.\n\n\nCode\ndf_Facts &lt;- FactsList_to_Dataframe(company_Facts$facts$`us-gaap`)\n\n# Select the columns to print out and present the output with wrapped text and formatted numbers\ndf_Facts %&gt;%   select(-c(description,accn)) %&gt;% \n  head() %&gt;% kable(\"html\") %&gt;%  \n  kable_styling(full_width = FALSE)\n\n\n\n\n\nlabel\nend\nval\nfy\nfp\nform\nfiled\nframe\nstart\n\n\n\n\nAccounts Payable (Deprecated 2009-01-31)\n2008-09-27\n5 520.0M\n2009\nQ3\n10-Q\n2009-07-22\nCY2008Q3I\nNA\n\n\nAccounts Payable (Deprecated 2009-01-31)\n2009-06-27\n4 854.0M\n2009\nQ3\n10-Q\n2009-07-22\nCY2009Q2I\nNA\n\n\nAccounts Payable, Current\n2008-09-27\n5 520.0M\n2009\nFY\n10-K\n2009-10-27\nNA\nNA\n\n\nAccounts Payable, Current\n2008-09-27\n5 520.0M\n2009\nFY\n10-K/A\n2010-01-25\nCY2008Q3I\nNA\n\n\nAccounts Payable, Current\n2009-09-26\n5 601.0M\n2009\nFY\n10-K\n2009-10-27\nNA\nNA\n\n\nAccounts Payable, Current\n2009-09-26\n5 601.0M\n2010\nQ1\n10-Q\n2010-01-25\nNA\nNA\n\n\n\n\n\n\n\nThe data in this dataframe is organized to facilitate analysis and comparison of financial information over different periods. Each row corresponds to a specific financial concept (e.g. Accounts Payable) reported by the company, and the columns provide details about the reporting period, values, and other relevant attributes.\nTo recreate a financial statement from the data in df_Facts of Apple Inc., we need to extract the values of the various Concepts and corresponding date in df_Fact$end.\ndf_Fact has a long list of Concepts for multiple fiscal periods. The following is to show the large number of Concepts included in df_Fact`, related to all financial reports.\n\n\nCode\n# Show the size and first rows of df_Facts (excluding long text for visualization purpose)\ndf_Fact_lenght &lt;- df_Facts %&gt;% nrow()\n  \n  # Print the size in human-readable format\ncat(\"df_Facts includes:\", format(df_Fact_lenght, units = \"auto\"), \"records \\n\")\n\n\ndf_Facts includes: 22057 records \n\n\n\n\nCode\n# Show the size and first rows of df_Facts (excluding long text for visualization purpose)\ndf_Facts %&gt;% select(-c(description,accn)) %&gt;% \n  head() %&gt;% as.data.frame() %&gt;% \n  kable(\"html\") %&gt;% \n  kable_styling(full_width = FALSE)\n\n\n\n\n\nlabel\nend\nval\nfy\nfp\nform\nfiled\nframe\nstart\n\n\n\n\nAccounts Payable (Deprecated 2009-01-31)\n2008-09-27\n5 520.0M\n2009\nQ3\n10-Q\n2009-07-22\nCY2008Q3I\nNA\n\n\nAccounts Payable (Deprecated 2009-01-31)\n2009-06-27\n4 854.0M\n2009\nQ3\n10-Q\n2009-07-22\nCY2009Q2I\nNA\n\n\nAccounts Payable, Current\n2008-09-27\n5 520.0M\n2009\nFY\n10-K\n2009-10-27\nNA\nNA\n\n\nAccounts Payable, Current\n2008-09-27\n5 520.0M\n2009\nFY\n10-K/A\n2010-01-25\nCY2008Q3I\nNA\n\n\nAccounts Payable, Current\n2009-09-26\n5 601.0M\n2009\nFY\n10-K\n2009-10-27\nNA\nNA\n\n\nAccounts Payable, Current\n2009-09-26\n5 601.0M\n2010\nQ1\n10-Q\n2010-01-25\nNA\nNA\n\n\n\n\n\n\n\nFrom the extract of the df_Facts above, we see repeated Concepts. Each of them is associated with a different fiscal period. By grouping these records by date indicated in df_Fact$end we can see the the full financial report for each period\n\n\nCode\n# Group the df_Fact by date in df_Fact$end\ndf_Fact_BS &lt;- df_Facts %&gt;% group_by(end) %&gt;% arrange(desc(end))\n\n# Show first rows of df_Facts_BS \ndf_Fact_BS %&gt;%  select(-c(description,accn)) %&gt;% \n  head() %&gt;% as.data.frame() %&gt;% \n  kable(\"html\") %&gt;% \n  kable_styling(full_width = FALSE) %&gt;% \n  column_spec(1,width = \"250px\")\n\n\n\n\n\nlabel\nend\nval\nfy\nfp\nform\nfiled\nframe\nstart\n\n\n\n\nAccounts Payable, Current\n2023-09-30\n62 611.0M\n2023\nFY\n10-K\n2023-11-03\nCY2023Q3I\nNA\n\n\nAccounts Receivable, after Allowance for Credit Loss, Current\n2023-09-30\n29 508.0M\n2023\nFY\n10-K\n2023-11-03\nCY2023Q3I\nNA\n\n\nAccrued Income Taxes, Current\n2023-09-30\n8 819.0M\n2023\nFY\n10-K\n2023-11-03\nCY2023Q3I\nNA\n\n\nAccrued Income Taxes, Noncurrent\n2023-09-30\n15 457.0M\n2023\nFY\n10-K\n2023-11-03\nCY2023Q3I\nNA\n\n\nAccumulated Depreciation, Depletion and Amortization, Property, Plant, and Equipment\n2023-09-30\n70 884.0M\n2023\nFY\n10-K\n2023-11-03\nCY2023Q3I\nNA\n\n\nAccumulated Other Comprehensive Income (Loss), Net of Tax\n2023-09-30\n-11 452.0M\n2023\nFY\n10-K\n2023-11-03\nCY2023Q3I\nNA\n\n\n\n\n\n\n\nThe next step is to filter the relevant Concepts associated with each statement: Balance Sheet (BS), Income Statement (IS) Cash Flow (CF).\n\n\n\nThe following code will create a standardized Balance Sheet (df_std_BS) based on a matching table in excel, part of the repository of this website. The excel is: standardized_balancehseet.xlsx\n\n\nCode\n# Define the standardized balancesheet file path\nbalancesheet_path &lt;- here(data_dir, \"standardized_balancesheet.xlsx\")\n  \n# Retrieve balance sheet of Apple Inc. in standardizeformat\ndf_std_BS &lt;- bs_std(df_Facts,balancesheet_path)\n\n# Print the resulting data.frame\ndf_std_BS %&gt;% head() %&gt;% as.data.frame() %&gt;% \n  kable(\"html\") %&gt;% \n  kable_styling(\n    full_width = TRUE,\n    bootstrap_options = c(\"striped\", \"hover\", \"condensed\"),\n    font_size = 8  # Adjust the font size as needed\n  ) %&gt;% \n  column_spec(1, width = \"200px\")  # Adjust the width as needed for other columns\n\n\n\n\n\nend\nfy\nfp\nform\nCash & Cash Equivalent\nMarketable Securities, Current\nTotal Accounts Receivable\nTotal Inventories\nTotal Current Assets\nMarketable Securities, Noncurrent\nProperty, Plant and Equipment\nIntangible Assets (excl. goodwill)\nGoodwill\nTotal Long Term Assets\nAccounts Payable\nTax Payable\nCommercial papers\nShort-Term Debt\nOperating Lease, Liability, Current\nFinance Lease, Liability, Current\nTotal Assets\nTotal Current Liabilities\nOperating Lease, Liability, Non Current\nFinance Lease, Liability, Non Current\nTotal Long-Term liabilities\nTotal Liabilities\nCommon Stock & Additional paid-in capital (or)\nCommon Stock, Value, Issued\nPreferred Stock\nRetained Earnings\nAccumulated other comprehensive income (loss)\n\n\n\n\n2023-09-30\n2023\nFY\n10-K\n29 965.0M\n31 590.0M\n29 508.0M\n6 331.0M\n143 566.0M\n100 544.0M\n43 715.0M\nNA\nNA\n209 017.0M\n62 611.0M\nNA\n5 985.0M\n9 822.0M\n1 410.0M\n165.0M\n352 583.0M\n145 308.0M\n10 408.0M\n165.0M\n145 129.0M\n290 437.0M\n73 812.0M\nNA\nNA\n-214.0M\n-11 452.0M\n\n\n2023-07-01\n2023\nQ3\n10-Q\n28 408.0M\n34 074.0M\n19 549.0M\n7 351.0M\n122 659.0M\n104 061.0M\n43 550.0M\nNA\nNA\n212 379.0M\n46 699.0M\nNA\n3 993.0M\n7 216.0M\nNA\nNA\n335 038.0M\n124 963.0M\nNA\nNA\n149 801.0M\n274 764.0M\n70 667.0M\nNA\nNA\n1 408.0M\n-11 801.0M\n\n\n2023-04-01\n2023\nQ2\n10-Q\n24 687.0M\n31 185.0M\n17 936.0M\n7 482.0M\n112 913.0M\n110 461.0M\n43 398.0M\nNA\nNA\n219 247.0M\n42 945.0M\nNA\n1 996.0M\n10 578.0M\nNA\nNA\n332 160.0M\n120 075.0M\nNA\nNA\n149 927.0M\n270 002.0M\n69 568.0M\nNA\nNA\n4 336.0M\n-11 746.0M\n\n\n2022-12-31\n2023\nQ1\n10-Q\n20 535.0M\n30 820.0M\n23 752.0M\n6 820.0M\n128 777.0M\n114 095.0M\n42 951.0M\nNA\nNA\n217 970.0M\n57 918.0M\nNA\n1 743.0M\n9 740.0M\nNA\nNA\n346 747.0M\n137 286.0M\nNA\nNA\n152 734.0M\n290 020.0M\n66 399.0M\nNA\nNA\n3 240.0M\n-12 912.0M\n\n\n2022-09-24\n2022\nFY\n10-K\n23 646.0M\n24 658.0M\n28 184.0M\n4 946.0M\n135 405.0M\n120 805.0M\n42 117.0M\nNA\nNA\n217 350.0M\n64 115.0M\nNA\n9 982.0M\n11 128.0M\n1 534.0M\n129.0M\n352 755.0M\n153 982.0M\n9 936.0M\n129.0M\n148 101.0M\n302 083.0M\n64 849.0M\nNA\nNA\n-3 068.0M\n-11 109.0M\n\n\n2022-09-24\n2023\nQ1\n10-Q\n23 646.0M\n24 658.0M\n28 184.0M\n4 946.0M\n135 405.0M\n120 805.0M\n42 117.0M\nNA\nNA\n217 350.0M\n64 115.0M\nNA\n9 982.0M\n11 128.0M\nNA\nNA\n352 755.0M\n153 982.0M\nNA\nNA\n148 101.0M\n302 083.0M\n64 849.0M\nNA\nNA\n-3 068.0M\n-11 109.0M\n\n\n\n\n\n\n\n\n\n\n(work in progress …)\n\n\n\n(work in progress …)"
  },
  {
    "objectID": "02_data_exploration.html#footnotes",
    "href": "02_data_exploration.html#footnotes",
    "title": "Explore data retrieved from SEC",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nFor visualization purpose we have omitted from the pritned table the variables (columns) df_Facts$description and df_Facts$accn.↩︎"
  },
  {
    "objectID": "A2_Functions.html",
    "href": "A2_Functions.html",
    "title": "R script: Functions",
    "section": "",
    "text": "R script: Functions\nWork in progress [..]"
  },
  {
    "objectID": "04_data_visualization.html",
    "href": "04_data_visualization.html",
    "title": "Data Visualization",
    "section": "",
    "text": "Data Visualization\nWork in progress [..]"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Unveiling Financial Insights: Retrieving SEC Data",
    "section": "",
    "text": "Welcome to the first chapter of our journey into SEC data analysis! In this section, we embark on the exciting process of retrieving financial data from the U.S. Securities and Exchange Commission (SEC) filings using the power of R.\n\n\n\nThis financial data retrieval code is provided for informational purposes only, and we make no warranties regarding the accuracy, completeness, or timeliness of the data. It should not be considered financial advice, and users should consult with qualified professionals for personalized guidance. Data is obtained from various sources, including the SEC, and we do not guarantee its accuracy or availability. Users are responsible for assessing and managing risks associated with the financial data. We are not liable for any damages arising from the use of this data or code. Redistribution, resale, or republication of the data without authorization is prohibited. This disclaimer is subject to change, and users are responsible for staying updated. It is not legal advice, and compliance with applicable laws and regulations is the user’s responsibility."
  },
  {
    "objectID": "index.html#dive-into-the-world-of-sec-filings",
    "href": "index.html#dive-into-the-world-of-sec-filings",
    "title": "Unveiling Financial Insights: Retrieving SEC Data",
    "section": "",
    "text": "Welcome to the first chapter of our journey into SEC data analysis! In this section, we embark on the exciting process of retrieving financial data from the U.S. Securities and Exchange Commission (SEC) filings using the power of R."
  },
  {
    "objectID": "index.html#disclaimer",
    "href": "index.html#disclaimer",
    "title": "Unveiling Financial Insights: Retrieving SEC Data",
    "section": "",
    "text": "This financial data retrieval code is provided for informational purposes only, and we make no warranties regarding the accuracy, completeness, or timeliness of the data. It should not be considered financial advice, and users should consult with qualified professionals for personalized guidance. Data is obtained from various sources, including the SEC, and we do not guarantee its accuracy or availability. Users are responsible for assessing and managing risks associated with the financial data. We are not liable for any damages arising from the use of this data or code. Redistribution, resale, or republication of the data without authorization is prohibited. This disclaimer is subject to change, and users are responsible for staying updated. It is not legal advice, and compliance with applicable laws and regulations is the user’s responsibility."
  },
  {
    "objectID": "03_data_analysis.html",
    "href": "03_data_analysis.html",
    "title": "Data Analysis",
    "section": "",
    "text": "Data Analysis\nWork in progress [..]"
  },
  {
    "objectID": "01_data_retrieval.html",
    "href": "01_data_retrieval.html",
    "title": "Data Retrieval",
    "section": "",
    "text": "To kick things off, we need to import the essential libraries that will empower us to interact with the SEC’s data and perform insightful analysis. The magic happens when we source the necessary files via setup.qmd.\n\n\nTo start, we need to import the required libraries. These libraries provide functions and tools that enable us to interact with the SEC’s data and perform data analysis. The necessary libraries are listed in setup.qmd.\nThe data retrieval process is orchestrated using a set of functions located in separate R script files. We’ll be sourcing these files via setup.qmd to access the functions for retrieving, processing, and analyzing SEC data.\n\n\nCode\nsource(\"setup.qmd\")           # Sourcing necessary libraries\n\n\nThis sets the stage for retrieving and working with SEC data efficiently.\n\n\n\n\nIn this example, we will focus on one company, Apple Inc. (AAPL), as the target for our data retrieval.\n\n\nTo access the SEC API, we need to define user headers. These headers will be used for making HTTP requests to the SEC servers. We can set our user agent as an example:\n\n\nCode\n# Define user headers\nheaders &lt;- c('User-Agent' = 'email@address.com')\nkable(headers)\n\n\n\n\n\n\nx\n\n\n\n\nUser-Agent\nemail@address.com\n\n\n\n\n\n\n\nIt’s essential to set user headers as a standard practice when accessing web APIs to identify the source of the requests.\n\n\n\n\nOur first step in data retrieval is to obtain the list of companies available on the SEC. This list contains essential information, including the Central Index Key (CIK), which uniquely identifies each company that files reports with the SEC. We’ll make an HTTP request to fetch this list:\n\n\nCode\n# Retrieve company list\ncompany_List &lt;- retrieve_Company_List(headers)\nkable(head(company_List))\n\n\n\n\n\n\ncik_str\nticker\ntitle\n\n\n\n\n0\n0000320193\nAAPL\nApple Inc.\n\n\n1\n0000789019\nMSFT\nMICROSOFT CORP\n\n\n2\n0001652044\nGOOGL\nAlphabet Inc.\n\n\n3\n0001018724\nAMZN\nAMAZON COM INC\n\n\n4\n0001045810\nNVDA\nNVIDIA CORP\n\n\n5\n0001326801\nMETA\nMeta Platforms, Inc.\n\n\n\n\n\n\n\n\n\n\nFor our analysis, we’ll use Apple Inc. (AAPL) as the company of interest. The CIK for Apple Inc. is 0000320193.\nLet’s now select Apple Inc. by its CIK and retrieve its data from the SEC. The data we retrieve will be stored in the company_Data object for further analysis:\n\n\nCode\n# Select Apple Inc. (AAPL) by CIK\ncik &lt;- \"0000320193\"  # CIK for Apple Inc.\ncompany_Data &lt;- retrieve_Company_Data(headers, cik)\n\n# this the first row of the company list as a quick check\ncompany_List[1,] %&gt;% kable()\n\n\n\n\n\n\ncik_str\nticker\ntitle\n\n\n\n\n0\n0000320193\nAAPL\nApple Inc.\n\n\n\n\n\n\n\nBy following these steps, we’ve imported the necessary libraries, sourced relevant files, and initiated the retrieval of financial data from the SEC. In the subsequent chapters, we will delve deeper into exploring and analyzing the SEC data for Apple Inc.\nBefore we move to the next chapter we save the files.\n\n\nCode\n# Load company_Data\nsaveRDS(company_Data, file = \"company_Data.RDS\") \nsaveRDS(cik, file = \"cik.RDS\")"
  },
  {
    "objectID": "01_data_retrieval.html#lets-get-started",
    "href": "01_data_retrieval.html#lets-get-started",
    "title": "Data Retrieval",
    "section": "",
    "text": "To kick things off, we need to import the essential libraries that will empower us to interact with the SEC’s data and perform insightful analysis. The magic happens when we source the necessary files via setup.qmd.\n\n\nTo start, we need to import the required libraries. These libraries provide functions and tools that enable us to interact with the SEC’s data and perform data analysis. The necessary libraries are listed in setup.qmd.\nThe data retrieval process is orchestrated using a set of functions located in separate R script files. We’ll be sourcing these files via setup.qmd to access the functions for retrieving, processing, and analyzing SEC data.\n\n\nCode\nsource(\"setup.qmd\")           # Sourcing necessary libraries\n\n\nThis sets the stage for retrieving and working with SEC data efficiently."
  },
  {
    "objectID": "01_data_retrieval.html#sec-retrieve-data",
    "href": "01_data_retrieval.html#sec-retrieve-data",
    "title": "Data Retrieval",
    "section": "",
    "text": "In this example, we will focus on one company, Apple Inc. (AAPL), as the target for our data retrieval.\n\n\nTo access the SEC API, we need to define user headers. These headers will be used for making HTTP requests to the SEC servers. We can set our user agent as an example:\n\n\nCode\n# Define user headers\nheaders &lt;- c('User-Agent' = 'email@address.com')\nkable(headers)\n\n\n\n\n\n\nx\n\n\n\n\nUser-Agent\nemail@address.com\n\n\n\n\n\n\n\nIt’s essential to set user headers as a standard practice when accessing web APIs to identify the source of the requests."
  },
  {
    "objectID": "01_data_retrieval.html#sec-company-list",
    "href": "01_data_retrieval.html#sec-company-list",
    "title": "Data Retrieval",
    "section": "",
    "text": "Our first step in data retrieval is to obtain the list of companies available on the SEC. This list contains essential information, including the Central Index Key (CIK), which uniquely identifies each company that files reports with the SEC. We’ll make an HTTP request to fetch this list:\n\n\nCode\n# Retrieve company list\ncompany_List &lt;- retrieve_Company_List(headers)\nkable(head(company_List))\n\n\n\n\n\n\ncik_str\nticker\ntitle\n\n\n\n\n0\n0000320193\nAAPL\nApple Inc.\n\n\n1\n0000789019\nMSFT\nMICROSOFT CORP\n\n\n2\n0001652044\nGOOGL\nAlphabet Inc.\n\n\n3\n0001018724\nAMZN\nAMAZON COM INC\n\n\n4\n0001045810\nNVDA\nNVIDIA CORP\n\n\n5\n0001326801\nMETA\nMeta Platforms, Inc."
  },
  {
    "objectID": "01_data_retrieval.html#selecting-a-company-apple-inc.-aapl",
    "href": "01_data_retrieval.html#selecting-a-company-apple-inc.-aapl",
    "title": "Data Retrieval",
    "section": "",
    "text": "For our analysis, we’ll use Apple Inc. (AAPL) as the company of interest. The CIK for Apple Inc. is 0000320193.\nLet’s now select Apple Inc. by its CIK and retrieve its data from the SEC. The data we retrieve will be stored in the company_Data object for further analysis:\n\n\nCode\n# Select Apple Inc. (AAPL) by CIK\ncik &lt;- \"0000320193\"  # CIK for Apple Inc.\ncompany_Data &lt;- retrieve_Company_Data(headers, cik)\n\n# this the first row of the company list as a quick check\ncompany_List[1,] %&gt;% kable()\n\n\n\n\n\n\ncik_str\nticker\ntitle\n\n\n\n\n0\n0000320193\nAAPL\nApple Inc.\n\n\n\n\n\n\n\nBy following these steps, we’ve imported the necessary libraries, sourced relevant files, and initiated the retrieval of financial data from the SEC. In the subsequent chapters, we will delve deeper into exploring and analyzing the SEC data for Apple Inc.\nBefore we move to the next chapter we save the files.\n\n\nCode\n# Load company_Data\nsaveRDS(company_Data, file = \"company_Data.RDS\") \nsaveRDS(cik, file = \"cik.RDS\")"
  },
  {
    "objectID": "06_advanced_topics.html",
    "href": "06_advanced_topics.html",
    "title": "Advanced Topics",
    "section": "",
    "text": "Advanced Topics\nWork in progress [..]"
  },
  {
    "objectID": "setup.html",
    "href": "setup.html",
    "title": "Import required libraries",
    "section": "",
    "text": "Import required libraries\npackages &lt;- c(“tm”, “proxy”,“httr”,“jsonlite”,“tidyverse”, “readxl”,“magrittr”, “kableExtra” ,“tibble”,“knitr”, “here”,“openxlsx”)\nfor (package in packages) { if (!(package %in% installed.packages())) { install.packages(package) }\n# Load the package library(package, character.only = TRUE) }\n\n\nSource required functions\nsource(“../code/Functions/data_retrieval.R”) # Sourcing the data retrieval functions source(“../code/Functions/data_analysis.R”) # Sourcing the data analysis functions source(“../code/Functions/data_visualization.R”) # Sourcing the data visualization functions source(“../code/Functions/utils.R”) # Sourcing utility functions\n\n\nRequired datasets\ndata_dir &lt;- here(“data”)"
  }
]